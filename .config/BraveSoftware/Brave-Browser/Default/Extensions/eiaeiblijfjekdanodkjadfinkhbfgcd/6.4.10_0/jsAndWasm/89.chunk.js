try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="4aef52dc-f545-4aaa-90f0-831ba14a41f0",e._sentryDebugIdIdentifier="sentry-dbid-4aef52dc-f545-4aaa-90f0-831ba14a41f0")}()}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"6.4.10"},(self.webpackChunknordpass=self.webpackChunknordpass||[]).push([[89],{21672:(e,a,s)=>{s.d(a,{i:()=>l});var t=s(69883),i=s(72543),n=s(91466);const l=e=>{const a=(0,t.B$)(n.M.getState());a&&(e>=3?n.M.dispatch((0,i.R3)(a)):n.M.dispatch((0,i.P9)(a)))}},31838:(e,a,s)=>{s.d(a,{h:()=>f});var t,i,n,l,d,r=s(96540);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)({}).hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},o.apply(null,arguments)}const c=(e,a)=>r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 40",ref:a},e),t||(t=r.createElement("path",{fill:"#fff",d:"M0 0h40v40H0z"})),i||(i=r.createElement("path",{fill:"#96B8EE",d:"M0 0h40v40H0z"})),n||(n=r.createElement("path",{fill:"#B0CDFB",d:"M0 40h40v-9.474L20 15.79 0 30.526z"})),l||(l=r.createElement("path",{fill:"#96B8EE",d:"M0 1.25h40v9.474L23.707 22.729a6.25 6.25 0 0 1-7.414 0L0 10.724z"})),d||(d=r.createElement("path",{fill:"#C1D9FF",d:"M0 0h40v9.474L23.707 21.479a6.25 6.25 0 0 1-7.414 0L0 9.474z"}))),m=(0,r.forwardRef)(c),f=(0,r.memo)(m)},41089:(e,a,s)=>{s.r(a),s.d(a,{EmailMaskDetailsView:()=>R});var t,i=s(74848),n=s(96540),l=s(32017),d=s.n(l),r=s(58065),o=s(47767),c=s(61962),m=s(73267),f=s(91912),x=s(22246),h=s(93586),u=s(35763),g=s(45847),w=s(20990),j=s(1876),k=s(90895),b=s(28696),M=s(78522),p=s(24291),v=s(69883),E=s(72543),A=s(86981),y=s(91055),F=s(54820);function N(){return N=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)({}).hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},N.apply(null,arguments)}const T=(e,a)=>n.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",ref:a},e),t||(t=n.createElement("path",{fill:"#95979C",d:"M.733 1c.4 0 .67.276.67.676 0 .238-.02.482-.02.827 0 2.104.74 2.962 2.825 2.962h4.064l1.496.087-1.866-1.697L6.506 2.44a.67.67 0 0 1-.2-.482c0-.382.281-.657.676-.657.169 0 .338.068.488.212l4.127 4.12c.15.145.225.326.225.514a.7.7 0 0 1-.225.514l-4.114 4.114c-.163.156-.332.225-.501.225-.395 0-.676-.282-.676-.658a.68.68 0 0 1 .2-.488l1.396-1.409 1.86-1.697-1.49.088H4.12C1.221 6.836 0 5.496 0 2.546c0-.363.013-.688.063-.932C.119 1.307.307 1 .733 1"}))),C=(0,n.forwardRef)(T),I=(0,n.memo)(C);var O=s(91120),_=s(90867),D=s(65125),L=s(54262),S=s(31838),z=s(37953),H=s(21672);const B=({isForwardingOn:e,email:a,uuid:s,emailMasksCount:t,headerIcon:n,handleForwarding:l})=>{const d=(0,p.wA)(),c=(0,o.Zp)(),{action:m,isLoading:f}=(0,M.y)(()=>_.FH.emailMasking.deleteEmailMask(s),{onSuccess:()=>{d((0,E.Yi)(s)),(0,H.i)(t-1),_.FH.action.save(k.ay.EmailMaskingMaskDeleted),c(j.bw.EMAIL_MASKING,{replace:!0}),(0,u.P0)(u.Et.ActionFeedback,{bodyText:(0,i.jsx)(r.A,{id:"emailMaskDeleted"})})},onError:()=>{(0,g.$)((0,i.jsx)(r.A,{id:"somethingWentWrongTryAgain"}))}});return(0,i.jsxs)("div",{className:"flex h-33 w-full items-center justify-center",children:[(0,i.jsxs)("div",{className:"flex min-w-0 flex-col overflow-hidden",children:[n||(0,i.jsx)(S.h,{className:"self-center rounded-[--ref-border-radius-lg]",width:64,height:64}),(0,i.jsx)("p",{className:"mt-4 truncate text-xl text-grey-darkest dark:text-white","data-testid":"email-mask-value",children:a})]}),(0,i.jsx)(z.x,{isDestructiveConfirmation:!0,button:e=>(0,i.jsx)(O.$nd,Object.assign({rank:"secondary",className:"absolute right-0 top-0 m-6","data-testid":"delete-email-mask_button",disabled:f},e,{children:(0,i.jsx)(r.A,{id:"emailMaskDelete"})})),header:(0,i.jsx)(r.A,{id:"deleteEmailMaskModalTitle"}),content:e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.A,{id:"deleteEmailMaskModalContent"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(r.A,{id:"disableEmailForwardingInsteadOfDelete"})]}):(0,i.jsx)(r.A,{id:"deleteEmailMaskModalContentForwardingOff"}),action:()=>Promise.resolve((0,D.c)(m)),actionText:(0,i.jsx)(r.A,{id:"emailMaskDelete"}),cancelText:e?(0,i.jsx)(r.A,{id:"disableEmailForwarding"}):(0,i.jsx)(r.A,{id:"cancel"}),onCancel:l})]})};var P=s(58997);const R=()=>{const e=(0,o.Zp)(),a=(0,o.g)(),s=(0,p.d4)(A.YM,d()),t=(0,p.d4)(v.JQ),l=(0,p.d4)(E.A1),N=l.find(e=>e.uuid===a.maskId),[T,C]=(0,n.useState)(!1),[S,z]=(0,n.useState)((null==N?void 0:N.active)||!1),H={type:b.Rx.Alpha,direction:b.sH.Asc},R=(0,F.Ls)(s,H).filter(e=>(0,y._2)(e)===(null==N?void 0:N.email_mask.toLowerCase())),{action:G}=(0,M.y)(_.FH.emailMasking.changeEmailMaskStatus,{onSuccess:()=>{S?(_.FH.action.save(k.ay.EmailMaskingMaskForwardingOff),(0,u.P0)(u.Et.ActionFeedback,{bodyText:(0,i.jsx)(r.A,{id:"emailMaskingTurnedOff"})})):(_.FH.action.save(k.ay.EmailMaskingMaskForwardingOn),(0,u.P0)(u.Et.ActionFeedback,{bodyText:(0,i.jsx)(r.A,{id:"emailMaskingTurnedOn"})})),z(!S)},onError:()=>{(0,g.$)((0,i.jsx)(r.A,{id:"somethingWentWrongTryAgain"}))}}),W=()=>{(0,D.c)(()=>{N&&G(N.uuid,!S).catch(w.f)})};return(0,n.useEffect)(()=>{N||e(j.bw.EMAIL_MASKING,{replace:!0})},[N,e]),N?(0,i.jsx)(P.M,{headerContent:(0,i.jsx)(B,{email:N.email_mask,uuid:N.uuid,isForwardingOn:S,emailMasksCount:l.length,headerIcon:R.length>0&&(0,i.jsx)(c.x,{item:R[0],className:"self-center",size:"xxl"}),handleForwarding:S?W:w.f}),onGoBack:()=>e(j.bw.EMAIL_MASKING),children:(0,i.jsxs)("div",{className:"mx-auto w-full max-w-[1000px]",children:[(0,i.jsx)(f.w,{children:(0,i.jsxs)(h.O,{title:(0,i.jsxs)("div",{className:"flex flex-col text-base","data-testid":"email-mask-forward-section",children:[(0,i.jsxs)("span",{children:[(0,i.jsx)(r.A,{id:"emailMaskForwardTo"}),":"]}),(0,i.jsxs)("span",{className:"inline-flex items-center text-sm text-grey-dark dark:text-[--dmd-1]",children:[(0,i.jsx)(I,{height:12,width:12}),(0,i.jsx)("span",{className:"ml-1","data-testid":"email-mask-forward-value",children:t})]})]}),children:[(0,i.jsx)(O.lMk,{isChecked:S,"data-testid":`email-mask-forward-toggle-${S}`,onChange:()=>{(0,D.c)(()=>{S?C(!0):W()})}}),T&&(0,i.jsx)(L.a,{header:(0,i.jsx)(r.A,{id:"emailMaskingTurnOffForwardingTitle"}),content:(0,i.jsx)(r.A,{id:"emailMaskingTurnOffForwardingSubtitle"}),action:W,actionText:(0,i.jsx)(r.A,{id:"confirm"}),onClose:()=>C(!1)})]})}),(0,i.jsx)(f.w,{isVisible:R.length>0,titleClassName:"!mb-4 mt-6",title:(0,i.jsxs)("div",{className:"flex w-full items-center",children:[(0,i.jsx)("p",{className:"mr-1 text-base font-bold",children:(0,i.jsx)(r.A,{id:"emailMaskingUsedItems"})}),(0,i.jsx)(O.m_M,{title:(0,i.jsx)(r.A,{id:"emailMaskingMatchesItems"}),placement:"top",children:(0,i.jsx)(O.UGz,{size:24,className:"cursor-pointer text-grey dark:text-[--dmd-1]"})})]}),children:R.map(a=>(0,i.jsx)(x.g,{title:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c.x,{item:a,className:"self-center",size:"xs"}),(0,i.jsx)("p",{className:"mx-4 truncate text-base",children:a.title})]}),onClick:()=>e(j.bw.VIEW_ITEM(a.uuid)),children:(0,i.jsx)(m.c,{})},a.uuid))})]})}):null}}}]);
//# sourceMappingURL=89.chunk.js.map
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},i=(new e.Error).stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="735d4a50-79be-4442-a3aa-6671c6bc8c66",e._sentryDebugIdIdentifier="sentry-dbid-735d4a50-79be-4442-a3aa-6671c6bc8c66")}()}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"6.4.10"},(self.webpackChunknordpass=self.webpackChunknordpass||[]).push([[636],{24636:(e,i,t)=>{t.r(i),t.d(i,{LinkedAccountSetup:()=>L});var n=t(74848),c=t(96540),s=t(47767),o=t(1876),r=t(58065),a=t(91120),d=t(55910),l=t(58997);const u=({icon:e,title:i,description:t,variant:c,isWide:s=!1,children:o,onGoBack:r})=>(0,n.jsx)(l.M,{onGoBack:r,children:(0,n.jsx)("div",{className:"flex size-full",children:(0,n.jsxs)("div",{className:(0,d.cx)("m-auto flex flex-col items-center py-6",s?"max-w-[432px]":"max-w-[336px]"),children:[(0,n.jsx)(a.ppr,{title:i,description:t,icon:e,variant:c,className:"w-full"}),o]})})}),m=({email:e,onGoBack:i})=>{const t=(0,s.Zp)();return(0,n.jsxs)(u,{icon:(0,n.jsx)(a.Yw$,{}),variant:"neutral",title:(0,n.jsx)(r.A,{id:"linkedAccountSetupAlreadyHasPremiumErrorTitle"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupAlreadyHasPremiumErrorDescription"}),onGoBack:i,children:[(0,n.jsx)(a.vu3,{size:"medium",message:e,classNames:"mt-6"}),(0,n.jsx)(a.$nd,{className:"mt-4 w-full",onClick:()=>t(o.bw.SETTINGS),children:(0,n.jsx)(r.A,{id:"linkedAccountSetupAlreadyHasPremiumErrorButton"})})]})},p=({children:e})=>(0,n.jsx)("div",{className:"my-6 w-full divide-y divide-[--sys-color-divider-subtle]",children:e}),x=({Icon:e,header:i,description:t,testId:c})=>(0,n.jsxs)("div",{className:"flex items-center py-4",children:[(0,n.jsx)(a.IoN,{className:"flex-none",variant:"neutral-light",size:"sm",icon:(0,n.jsx)(e,{})}),(0,n.jsxs)("div",{className:"ml-4","data-testid":c,children:[(0,n.jsx)("div",{className:"text-[--sys-color-on-bg-primary]",children:i}),(0,n.jsx)("div",{className:"text-[--sys-color-on-bg-secondary]",children:t})]})]});var S=t(6442),A=t(88564),j=t(20990),k=t(72311),h=t(78522),f=t(92067),b=t(90867),v=t(53351);const E=({className:e,onSubmit:i})=>{const[t,s]=(0,c.useState)(""),[o,l]=(0,c.useState)(!1),[u,m]=(0,c.useState)(""),{formatMessage:p}=(0,S.A)(),{action:x,isLoading:E,errorMessage:N,setErrorMessage:g}=(0,h.y)(b.FH.linkedAccount.initialize,{onSuccess:()=>{i(t)}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("form",{className:(0,d.cx)("w-full",e),onSubmit:e=>{let i=!1;e.preventDefault(),(0,f.xf)(t)||(g(p({id:"linkedAccountSetupEmailFormValidationError"})),i=!0),o||(m(p({id:"linkedAccountSetupEmailFormTermsOfServiceError"})),i=!0),i||x(t)},children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)(a.Sc0,{"data-testid":"terms-of-service",label:(0,n.jsx)("span",{className:"text-sm text-[--sys-color-on-bg-secondary]",children:(0,n.jsx)(r.A,{id:"linkedAccountSetupEmailFormTermsOfServiceCheckbox",values:{link:e=>(0,n.jsx)(a.N_E,{underline:!0,onClick:e=>{e.preventDefault(),(0,v.k)(k.U.LinkedAccountTermsOfService).catch(j.f)},children:e})}})}),error:!!u,checked:o,onChange:e=>{m(""),l(e.target.checked)}}),(0,n.jsx)(a.Q0g,{error:u,className:"mx-3 mt-2"})]}),(0,n.jsx)(a.pde,{"data-testid":"personal-email-address",label:p({id:"linkedAccountSetupEmailFormInputPlaceholder"}),error:N,value:t,onChange:e=>{g(""),s(e)}}),(0,n.jsx)(a.$nd,{isLoading:E,type:"submit","data-testid":"submit-button",className:"mt-2 w-full",children:(0,n.jsx)(r.A,{id:"continue"})})]}),(0,n.jsx)("div",{className:"mt-6 text-center text-[--sys-color-on-bg-secondary]",children:(0,n.jsx)(r.A,{id:"linkedAccountSetupEmailFormNoPersonalAccountMessage",values:{link:e=>(0,n.jsx)(a.N_E,{underline:!0,onClick:()=>b.FH.internal.openNordAccount({flow:A.nl.Registration}),children:e})}})})]})},N=({onSubmit:e,onGoBack:i})=>(0,n.jsxs)(u,{isWide:!0,icon:(0,n.jsx)(a.okO,{}),variant:"brand-lime",title:(0,n.jsx)(r.A,{id:"linkedAccountSetupSetEmailStepTitle"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupSetEmailStepDescription"}),onGoBack:i,children:[(0,n.jsxs)(p,{children:[(0,n.jsx)(x,{testId:"password-health-section",Icon:a.Nhe,header:(0,n.jsx)(r.A,{id:"linkedAccountSetupSetEmailStepPasswordHealthItemHeader"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupSetEmailStepPasswordHealthItemDescription"})}),(0,n.jsx)(x,{testId:"unlimited-account-section",Icon:a.Lnb,header:(0,n.jsx)(r.A,{id:"linkedAccountSetupSetEmailStepUnlimitedDevicesItemHeader"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupSetEmailStepUnlimitedDevicesItemDescription"})}),(0,n.jsx)(x,{Icon:a.X4E,testId:"data-breach-scanner-section",header:(0,n.jsx)(r.A,{id:"linkedAccountSetupSetEmailStepBreachScannerItemHeader"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupSetEmailStepBreachScannerItemDescription"})})]}),(0,n.jsx)(E,{onSubmit:e})]}),g=({onSubmit:e,onGoBack:i})=>(0,n.jsx)(u,{icon:(0,n.jsx)(a.XHs,{}),variant:"neutral",title:(0,n.jsx)(r.A,{id:"linkedAccountSetupIsB2bErrorTitle"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupIsB2bErrorDescription"}),onGoBack:i,children:(0,n.jsx)(E,{className:"mt-6",onSubmit:e})}),y=({onGoBack:e})=>(0,n.jsxs)(u,{isWide:!0,icon:(0,n.jsx)(a.XHs,{}),variant:"neutral",title:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorTitle"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorDescription"}),onGoBack:e,children:[(0,n.jsxs)(p,{children:[(0,n.jsx)(x,{Icon:a.Yw$,header:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorCreateAccountStepTitle"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorCreateAccountStepDescription"})}),(0,n.jsx)(x,{Icon:a.bED,header:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorSwitchToWorkAccountStepTitle"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorSwitchToWorkAccountStepDescription"})}),(0,n.jsx)(x,{Icon:a.DEb,header:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorGetPremiumStepTitle"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorGetPremiumStepDescription"})})]}),(0,n.jsx)(a.$nd,{className:"mt-2 w-full",onClick:()=>b.FH.internal.openNordAccount({flow:A.nl.Registration}),children:(0,n.jsx)(r.A,{id:"linkedAccountSetupNoAccountErrorButton"})})]});var w=t(24291),I=t(89889);const B=({onGoBack:e})=>{const i=(0,w.d4)(I.WY),t=(0,s.Zp)();return(0,n.jsx)(u,{icon:(0,n.jsx)(a.okO,{}),variant:"brand-lime",title:(0,n.jsx)(r.A,{id:"linkedAccountSetupSuccessStepTitle"}),description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.A,{id:"linkedAccountSetupSuccessStepSubtitle1",values:{organizationTitle:i,link:e=>(0,n.jsx)(a.N_E,{underline:!0,onClick:()=>t({pathname:o.bw.SETTINGS,search:"?scrollToLinkedAccountSettings=true"}),children:e})}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(r.A,{id:"linkedAccountSetupSuccessStepSubtitle2"})]}),onGoBack:e,children:(0,n.jsx)(a.$nd,{className:"mt-6 w-full","data-testid":"open-switch-account-button",onClick:()=>t(o.bw.MP_SWITCH_ACCOUNT),children:(0,n.jsx)(r.A,{id:"linkedAccountSetupSuccessStepButton"})})})};var T,G,C=t(35763),D=t(45847);!function(e){e.LinkEmail="link_email",e.VerifyEmail="verify_email",e.Success="success"}(T||(T={})),function(e){e.IsB2b="19007",e.NoAccount="19009",e.HasPremium="19010"}(G||(G={}));const H=({email:e,onSubmit:i,setAccountLinkingError:t,onGoBack:s})=>{const{formatMessage:o}=(0,S.A)(),[d,l]=(0,c.useState)(""),[m,p]=(0,c.useState)(),{action:x,isLoading:A}=(0,h.y)(b.FH.linkedAccount.create,{onSuccess:i,onError:e=>{var i;const n=null===(i=e.info)||void 0===i?void 0:i.code;n&&Object.values(G).includes(n)?t(n):p(e.message)}}),{action:j}=(0,h.y)(()=>b.FH.linkedAccount.initialize(e),{onSuccess:()=>{(0,C.P0)(C.Et.ActionFeedback,{bodyText:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.BK0,{size:16,className:"mr-3 inline text-ref-color-green-40"}),(0,n.jsx)(r.A,{id:"linkedAccountSetupVerificationCodeStepResendMessage"})]})})},onError:e=>{var i;"2009"!==(null===(i=e.info)||void 0===i?void 0:i.code)?(0,D.$)(e):(0,D.$)((0,n.jsx)(r.A,{id:"linkedAccountSetupVerificationCodeStepInitializeRequestsLimitReached"}))}});return(0,n.jsxs)(u,{icon:(0,n.jsx)(a.aZ_,{}),variant:"neutral",title:(0,n.jsx)(r.A,{id:"linkedAccountSetupVerificationCodeStepTitle"}),description:(0,n.jsx)(r.A,{id:"linkedAccountSetupVerificationCodeStepDescription",values:{email:e}}),onGoBack:s,children:[(0,n.jsxs)("form",{className:"mt-6 w-full",onSubmit:e=>{e.preventDefault(),x(d)},children:[(0,n.jsx)(a.pde,{"data-testid":"verification-code",label:o({id:"linkedAccountSetupVerificationCodeStepInputPlaceholder"}),error:m,value:d,onChange:e=>{p(""),l(e)}}),(0,n.jsx)(a.$nd,{isLoading:A,"data-testid":"submit-button",type:"submit",className:"mt-2 w-full",children:(0,n.jsx)(r.A,{id:"continue"})})]}),(0,n.jsx)("div",{className:"mt-6 text-sm text-[--sys-color-on-bg-secondary]",children:(0,n.jsx)(r.A,{id:"linkedAccountSetupVerificationCodeStepResendLink",values:{link:e=>(0,n.jsx)(a.N_E,{underline:!0,"data-testid":"resend-verification-code",onClick:j,children:e})}})})]})},L=()=>{const e=(0,s.Zp)(),[i,t]=(0,c.useState)(""),[r,a]=(0,c.useState)(),[d,l]=(0,c.useState)(T.LinkEmail),u=()=>e(o.bw.SETTINGS),p=()=>{a(void 0),l(T.LinkEmail)},x=e=>{t(e),a(void 0),l(T.VerifyEmail)};return r===G.HasPremium?(0,n.jsx)(m,{email:i,onGoBack:p}):r===G.NoAccount?(0,n.jsx)(y,{onGoBack:p}):r===G.IsB2b?(0,n.jsx)(g,{onSubmit:x,onGoBack:p}):d===T.Success?(0,n.jsx)(B,{onGoBack:u}):d===T.VerifyEmail?(0,n.jsx)(H,{email:i,setAccountLinkingError:a,onSubmit:()=>l(T.Success),onGoBack:p}):(0,n.jsx)(N,{onSubmit:x,onGoBack:u})}}}]);
//# sourceMappingURL=636.chunk.js.map
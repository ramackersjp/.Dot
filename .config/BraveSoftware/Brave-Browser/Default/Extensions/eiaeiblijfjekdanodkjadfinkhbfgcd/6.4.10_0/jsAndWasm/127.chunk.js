try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},o=(new e.Error).stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="39e0b7d2-45aa-49b8-9dad-8f3b235019d1",e._sentryDebugIdIdentifier="sentry-dbid-39e0b7d2-45aa-49b8-9dad-8f3b235019d1")}()}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"6.4.10"},(self.webpackChunknordpass=self.webpackChunknordpass||[]).push([[127,508],{30508:(e,o,s)=>{s.r(o),s.d(o,{DownloadLogsButton:()=>i});var t=s(74848),n=s(42646),a=s(55910),l=s(91120);const i=({className:e,onClick:o})=>(0,t.jsx)(l.$nd,{className:(0,a.cx)("w-full",e),"data-testid":"download-logs-button",rank:"secondary",onClick:o||n.K,children:"Download logs"})},39368:(e,o,s)=>{s.d(o,{L:()=>d});var t=s(12541),n=s(92067),a=s(61320),l=s(64143);class i extends l.Ay{constructor(){super("logging"),this.version(1).stores({jsLogs:"++, message, timestamp, logLevel, logSource",wasmLogs:"++, message, timestamp, file, line"})}}const d=new class{constructor(){this.deleteOldLogs=(e,o)=>{this.db[e].limit(o).delete().catch(e=>{})},this.handleOldLogs=e=>{this.db[e].count().then(o=>{o>7e4&&this.deleteOldLogs(e,o-7e4)}).catch(e=>{})},this.handleOldJsLogs=(0,n.sg)(()=>this.handleOldLogs(a.K.JS),5*n.Z2),this.handleOldWasmLogs=(0,n.sg)(()=>this.handleOldLogs(a.K.WASM),5*n.Z2),this.log=({objectStoreName:e,message:o,logLevel:s,logSource:n,file:l,line:i})=>{e===a.K.JS?(this.db.jsLogs.add({logLevel:s,logSource:n,message:o,timestamp:(0,t.GP)(new Date,"y-MM-dd HH:mm:ss.SSS x")}).catch(e=>{}),this.handleOldJsLogs()):(this.db.wasmLogs.add({file:l,line:i,message:o,timestamp:(0,t.GP)(new Date,"y-MM-dd HH:mm:ss.SSS x")}).catch(e=>{}),this.handleOldWasmLogs())},this.logJS=(e,o,s)=>this.log({objectStoreName:a.K.JS,message:o,logLevel:e,logSource:s}),this.logWASM=(e,o,s)=>this.log({objectStoreName:a.K.WASM,message:e,file:o,line:s}),this.getAllLogs=()=>{return e=this,s=function*(){return{jsLogs:yield this.db[a.K.JS].toArray(),wasmLogs:yield this.db[a.K.WASM].toArray()}},new((o=void 0)||(o=Promise))(function(t,n){function a(e){try{i(s.next(e))}catch(e){n(e)}}function l(e){try{i(s.throw(e))}catch(e){n(e)}}function i(e){var s;e.done?t(e.value):(s=e.value,s instanceof o?s:new o(function(e){e(s)})).then(a,l)}i((s=s.apply(e,[])).next())});var e,o,s},this.db=new i}}},42646:(e,o,s)=>{s.d(o,{K:()=>g});var t=s(48468),n=s(71710),a=s.n(n);const l=(e,o,s)=>{const t={};return e.forEach(e=>{const n=e.timestamp.split(" ")[0],a=`${o(e)}\r\n`;t[n]?t[n]+=a:t[n]=`${s}\r\n${a}`}),t};var i=s(82080),d=s(39368);const r=({timestamp:e,message:o,logSource:s,logLevel:t})=>`${e} [${t}] ${s?`logSource:${s} `:""}${o}`,c=({timestamp:e,message:o,file:s,line:t})=>`${e} ${s}:${t}: ${o}`,g=()=>{return o=function*(){try{const{jsLogs:e,wasmLogs:o}=yield d.L.getAllLogs(),s=(()=>{const e=(0,t.o0)();return"App version: 6.4.10; Browser info: "+(e?`OS: ${e.os}; Browser: ${e.name}; Browser version: ${e.version}`:"Failed to detect the browser information")})(),n=l(e,r,s),g=l(o,c,s),u=new(a()),h="NordPass_logs_6.4.10",f=u.folder(h);Object.keys(n).forEach(e=>{null==f||f.file(`js_${e}.log`,n[e])}),Object.keys(g).forEach(e=>{null==f||f.file(`wasm_${e}.log`,g[e])}),yield u.generateAsync({type:"blob"}).then(e=>{(0,i.P)(e,`${h}.zip`)})}catch(e){}},new((e=void 0)||(e=Promise))(function(s,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(o){var t;o.done?s(o.value):(t=o.value,t instanceof e?t:new e(function(e){e(t)})).then(n,a)}l((o=o.apply(undefined,[])).next())});var e,o}},55910:(e,o,s)=>{s.d(o,{cx:()=>a});var t=s(50856),n=s(91120);const a=(...e)=>(0,t.QP)((0,n.cx)(...e))},61320:(e,o,s)=>{var t,n;s.d(o,{K:()=>n,_:()=>t}),function(e){e.ExtensionPopup="extensionPopup",e.AppTab="appTab",e.BackgroundScript="backgroundScript"}(t||(t={})),function(e){e.JS="jsLogs",e.WASM="wasmLogs"}(n||(n={}))},63821:(e,o,s)=>{s.d(o,{_J:()=>t,g$:()=>n});const t="fileDownloader.html",n="jsAndWasm"},82080:(e,o,s)=>{s.d(o,{P:()=>l});var t=s(4213),n=s(34354),a=s(63821);const l=(e,o)=>{n.ax?((e,o)=>{const s=document.createElement("iframe");s.style.display="none",s.src=a._J,s.onload=()=>{s.contentWindow&&(s.contentWindow.postMessage({fileName:o,url:URL.createObjectURL(e)},window.location.origin),setTimeout(()=>{document.body.removeChild(s)},5e3))},document.body.appendChild(s)})(e,o):(0,t.saveAs)(e,o)}}}]);
//# sourceMappingURL=127.chunk.js.map